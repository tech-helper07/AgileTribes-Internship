<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Advance JS Task 3</title>
</head>
<body>
  
</body>
<script>
  // Modern JavaScript Challenges Solution

/**
 * Task 1: Longest String
 * Finds the longest string in an array using reduce
 * @param {string[]} strings - Array of strings
 * @return {string} - The longest string in the array
 */
function findLongestString(strings) {
  return strings.reduce((longest, current) => {
    return current.length > longest.length ? current : longest;
  }, "");
}

// Test Task 1
console.log("Task 1: Longest String");
console.log(findLongestString(['apple', 'banana', 'cherry', 'date']));
// Output: 'banana'
console.log("---\n");

/**
 * Task 2: Flatten Array
 * Flattens a nested array into a single array using reduce
 * @param {Array<Array>} nestedArray - Array containing nested arrays
 * @return {Array} - Flattened array with all elements
 */
function flattenArray(nestedArray) {
  return nestedArray.reduce((flattened, current) => {
    return flattened.concat(current);
  }, []);
}

// Test Task 2
console.log("Task 2: Flatten Array");
console.log(flattenArray([[1, 2, 3], [4, 5], [6, 7, 8, 9]]));
// Output: [1, 2, 3, 4, 5, 6, 7, 8, 9]
console.log("---\n");

/**
 * Task 3: Count Occurrences
 * Counts how many times each word appears in an array
 * @param {string[]} words - Array of words
 * @return {Object} - Object with words as keys and counts as values
 */
function countOccurrences(words) {
  return words.reduce((counts, word) => {
    // If the word exists in our counts object, increment it, otherwise set it to 1
    counts[word] = (counts[word] || 0) + 1;
    return counts;
  }, {});
}

// Test Task 3
console.log("Task 3: Count Occurrences");
console.log(countOccurrences(['apple', 'banana', 'apple', 'orange', 'banana', 'apple']));
// Output: { apple: 3, banana: 2, orange: 1 }
console.log("---\n");

/**
 * Task 4: Group by Property
 * Groups an array of objects by a specified property
 * @param {Object[]} array - Array of objects
 * @param {string} property - The property to group by
 * @return {Object} - Object with property values as keys and arrays of matching objects as values
 */
function groupBy(array, property) {
  return array.reduce((grouped, item) => {
    // Get the value of the property we're grouping by
    const key = item[property];
    
    // If this key doesn't exist in our result object yet, create an empty array for it
    if (!grouped[key]) {
      grouped[key] = [];
    }
    
    // Add the current item to the appropriate group
    grouped[key].push(item);
    
    return grouped;
  }, {});
}

// Test Task 4
console.log("Task 4: Group by Property");
const people = [
  { name: 'Alice', age: 21 },
  { name: 'Bob', age: 25 },
  { name: 'Charlie', age: 21 },
  { name: 'David', age: 25 },
  { name: 'Eve', age: 22 }
];
console.log(groupBy(people, 'age'));
/* Output:
{
  '21': [{ name: 'Alice', age: 21 }, { name: 'Charlie', age: 21 }],
  '25': [{ name: 'Bob', age: 25 }, { name: 'David', age: 25 }],
  '22': [{ name: 'Eve', age: 22 }]
}
*/
console.log("---\n");

/**
 * Task 5: Total Price of Items in Cart
 * Calculates the total price of items in a shopping cart
 * @param {Object[]} cart - Array of objects with price property
 * @return {number} - Sum of all prices
 */
function calculateTotal(cart) {
  return cart.reduce((total, item) => {
    return total + item.price;
  }, 0);
}

// Test Task 5
console.log("Task 5: Total Price of Items in Cart");
const cart = [
  { item: 'apple', price: 1.5 },
  { item: 'banana', price: 2.0 },
  { item: 'orange', price: 1.25 }
];
console.log(calculateTotal(cart));
// Output: 4.75
console.log("---\n");

/**
 * Task 6: Find First Even Number
 * Finds the first even number in an array
 * @param {number[]} numbers - Array of numbers
 * @return {number|undefined} - The first even number or undefined if none exists
 */
function findFirstEvenNumber(numbers) {
  return numbers.find(number => number % 2 === 0);
}

// Test Task 6
console.log("Task 6: Find First Even Number");
console.log(findFirstEvenNumber([1, 3, 7, 10, 2]));
// Output: 10
console.log("---\n");

/**
 * Task 7: Find Student by Name
 * Finds a student object from an array based on name
 * @param {Object[]} students - Array of student objects with name and age properties
 * @param {string} name - Name to search for
 * @return {Object|undefined} - The matching student object or undefined if not found
 */
function findStudentByName(students, name) {
  return students.find(student => student.name === name);
}

// Test Task 7
console.log("Task 7: Find Student by Name");
const students = [
  { name: 'Alice', age: 21 },
  { name: 'Bob', age: 25 },
  { name: 'Charlie', age: 23 }
];
console.log(findStudentByName(students, 'Bob'));
// Output: { name: 'Bob', age: 25 }
console.log("---\n");

/**
 * Task 8: Find Product by ID
 * Finds a product object from an array based on ID
 * @param {Object[]} products - Array of product objects with id and name properties
 * @param {number} id - Product ID to search for
 * @return {Object|undefined} - The matching product object or undefined if not found
 */
function findProductById(products, id) {
  return products.find(product => product.id === id);
}

// Test Task 8
console.log("Task 8: Find Product by ID");
const products = [
  { id: 101, name: 'Laptop' },
  { id: 102, name: 'Phone' },
  { id: 103, name: 'Tablet' }
];
console.log(findProductById(products, 102));
// Output: { id: 102, name: 'Phone' }
console.log("---\n");

/**
 * Task 9: Find Overdue Task
 * Finds the first overdue task from an array of tasks
 * @param {Object[]} tasks - Array of task objects with taskName and dueDate properties
 * @return {Object|undefined} - The first overdue task or undefined if none are overdue
 */
function findOverdueTask(tasks) {
  const today = new Date();
  
  return tasks.find(task => {
    const dueDate = new Date(task.dueDate);
    return dueDate < today;
  });
}

// Test Task 9
console.log("Task 9: Find Overdue Task");
const tasks = [
  { taskName: 'Task 1', dueDate: '2023-06-01' },
  { taskName: 'Task 2', dueDate: '2024-05-01' },
  { taskName: 'Task 3', dueDate: '2024-01-01' }
];
console.log(findOverdueTask(tasks));
// Output will depend on current date, but should find Task 1 as overdue

// Additional test with all future dates
const futureTasks = [
  { taskName: 'Future Task 1', dueDate: '2030-01-01' },
  { taskName: 'Future Task 2', dueDate: '2030-02-01' }
];
console.log("Test with no overdue tasks:");
console.log(findOverdueTask(futureTasks));
// Output: undefined (assuming current date is before 2030)
</script>
</html>